
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://docs/user/scenarios/dremio_grafana/scenario/">
      
      
        <link rel="prev" href="../../ml/deploy/">
      
      
        <link rel="next" href="../../postgrest/intro/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Data transformation and usage with Dremio and Grafana - Digital Hub</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/portal_selection.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/colors.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="orange" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-transformation-and-usage-with-dremio-and-grafana" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    


  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="../../.."
      title="Digital Hub"
      class="md-header__button md-logo"
      aria-label="Digital Hub"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Digital Hub
          </span>
          <div class="dropdown">
            <button class="dd-button">
              
              
                
              
              <span class="dd-text">0.10</span>
              <span class="dd-arrow">&#9660;</span>
              
                
                
              
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs">current</a>
                  
                
              
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.9">0.9</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.8">0.8</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.7">0.7</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.6">0.6</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.5">0.5</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.4">0.4</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.3">0.3</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.2">0.2</a>
                  
                
              
            </button>
          </div>
          <div class="dropdown">
            <button class="dd-button">
              <span class="dd-text">User</span>
              <span class="dd-arrow">&#9660;</span>
              
                
                  
                
                  
                    
                      <a href="https://scc-digitalhub.github.io/docs/0.10/dev">Dev</a>
                    
                  
                
                  
                    
                      <a href="https://scc-digitalhub.github.io/docs/0.10/admin">Admin</a>
                    
                  
                
              
              
                <a href="https://scc-digitalhub.github.io/sdk-docs/0.10">SDK</a>
              
            </button>
          </div>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data transformation and usage with Dremio and Grafana
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="orange" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    

    <!-- User preference: color palette -->
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>

    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Digital Hub" class="md-nav__button md-logo" aria-label="Digital Hub" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Digital Hub
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview and architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Concepts and Tasks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Concepts and Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions and Runtimes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/workspaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workspaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Management with KRM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data and transformations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ML Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/kubernetes-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Kubernetes Resources for Runs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/secrets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secret Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/code-source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code source
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the platform externally
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Components
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Landing Page
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/dh_console/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/cli_commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/resourcemanager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes Resource Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/kubeflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    KubeFlow Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interactive Workspaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            Interactive Workspaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/jupyter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/dremio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dremio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/sqlpad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQLPad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/grafana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grafana
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/vscode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visual Studio Code
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scenarios
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Scenarios
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Extract-Transform-Load
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            Extract-Transform-Load
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ETL scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/collect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collect the data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Process the data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/expose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expose datasets as API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/streamlit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualize data with Streamlit
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DBT transformation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            DBT transformation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl-core/scenario/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ETL with digitalhub-core and DBT scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl-core/pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MLOps: Scikit-learn ML models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            MLOps: Scikit-learn ML models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlsklearn/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scikit-learn ML scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlsklearn/training/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Training the model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlsklearn/deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploy and expose the model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MLOps: MLflow ML models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            MLOps: MLflow ML models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlmlflow/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MLFLow ML scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlmlflow/deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploy and expose the model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MLOps: Large Language Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            MLOps: Large Language Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlllm/llm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing LLM Models
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MLOps: Custom ML model training
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            MLOps: Custom ML model training
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom ML scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploy and expose the model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dremio transformation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            Dremio transformation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Data transformation and usage with Dremio and Grafana
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Data transformation and usage with Dremio and Grafana
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#collect-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Collect the data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-the-data-from-dremio" class="md-nav__link">
    <span class="md-ellipsis">
      Access the data from Dremio
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extract-measurement-data" class="md-nav__link">
    <span class="md-ellipsis">
      Extract measurement data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extract-traffic-sensors-data" class="md-nav__link">
    <span class="md-ellipsis">
      Extract traffic sensors data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-hourly-measurements-into-daily-measurements" class="md-nav__link">
    <span class="md-ellipsis">
      Transform hourly measurements into daily measurements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect-grafana-to-dremio" class="md-nav__link">
    <span class="md-ellipsis">
      Connect Grafana to Dremio
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API via PostgREST
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            API via PostgREST
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postgrest/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PostgREST scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postgrest/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Insert data into the database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postgrest/postgrest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create PostgREST service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postgrest/apigw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expose service externally
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Runtimes reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Runtimes reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/dbt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DBT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/container/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Container
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/kfp_pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/modelserve/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelserve
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SDK Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            SDK Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sdk/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python SDK Reference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#collect-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Collect the data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-the-data-from-dremio" class="md-nav__link">
    <span class="md-ellipsis">
      Access the data from Dremio
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extract-measurement-data" class="md-nav__link">
    <span class="md-ellipsis">
      Extract measurement data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extract-traffic-sensors-data" class="md-nav__link">
    <span class="md-ellipsis">
      Extract traffic sensors data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-hourly-measurements-into-daily-measurements" class="md-nav__link">
    <span class="md-ellipsis">
      Transform hourly measurements into daily measurements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect-grafana-to-dremio" class="md-nav__link">
    <span class="md-ellipsis">
      Connect Grafana to Dremio
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="data-transformation-and-usage-with-dremio-and-grafana">Data transformation and usage with Dremio and Grafana</h1>
<p>In this scenario we will learn how to use Dremio to transform data and create some virtual datasets on top of it. Then, we will visualize the transformed data in a dashboard created with Grafana, by importing a template. For this template to work with minimal changes, make sure you match the naming of entities indicated throughout the tutorial.</p>
<p>In order to collect the initial data and make it accessible to Dremio, we will follow the first step of the ETL scenario, in which we download some traffic data and store it in the DigitalHub datalake.</p>
<h2 id="collect-the-data">Collect the data</h2>
<div class="admonition note">
<p class="admonition-title">Collect the data</p>
<p>The process of collecting data is the same as described in the <a href="../../etl/intro/">ETL scenario introduction</a> and <a href="../../etl/collect/">Collect the data</a> pages.</p>
</div>
<ul>
<li>Access Jupyter from your Coder instance and create a new notebook using the <strong><code>Python 3 (ipykernel)</code></strong> kernel</li>
<li>
<p>Set up the environment and create a project named <code>demo-etl</code>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">digitalhub</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">dh</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">PROJECT</span> <span class="o">=</span> <span class="s2">&quot;demo-etl&quot;</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">dh</span><span class="o">.</span><span class="n">get_or_create_project</span><span class="p">(</span><span class="n">PROJECT</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Create the <code>src</code> folder, define the download function and register it
<div class="highlight"><pre><span></span><code><span class="n">new_folder</span> <span class="o">=</span> <span class="s1">&#39;src&#39;</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">new_folder</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">new_folder</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">%%</span><span class="n">writefile</span> <span class="s2">&quot;src/download-data.py&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">digitalhub_runtime_python</span><span class="w"> </span><span class="kn">import</span> <span class="n">handler</span>

<span class="nd">@handler</span><span class="p">(</span><span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dataset&quot;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">downloader</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="c1"># read and rewrite to normalize and export as data</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">as_df</span><span class="p">(</span><span class="n">file_format</span><span class="o">=</span><span class="s1">&#39;csv&#39;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">func</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">new_function</span><span class="p">(</span>
                         <span class="n">name</span><span class="o">=</span><span class="s2">&quot;download-data&quot;</span><span class="p">,</span>
                         <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
                         <span class="n">python_version</span><span class="o">=</span><span class="s2">&quot;PYTHON3_10&quot;</span><span class="p">,</span>
                         <span class="n">code_src</span><span class="o">=</span><span class="s2">&quot;src/download-data.py&quot;</span><span class="p">,</span>
                         <span class="n">handler</span><span class="o">=</span><span class="s2">&quot;downloader&quot;</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Set the URL and execute the function:
<div class="highlight"><pre><span></span><code><span class="n">URL</span> <span class="o">=</span> <span class="s2">&quot;https://opendata.comune.bologna.it/api/explore/v2.1/catalog/datasets/rilevazione-flusso-veicoli-tramite-spire-anno-2023/exports/csv?lang=it&amp;timezone=Europe</span><span class="si">%2F</span><span class="s2">Rome&amp;use_labels=true&amp;delimiter=%3B&quot;</span>
<span class="n">di</span><span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">new_dataitem</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;url_data_item&quot;</span><span class="p">,</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">,</span><span class="n">path</span><span class="o">=</span><span class="n">URL</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">run</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">&quot;job&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;url&#39;</span><span class="p">:</span><span class="n">di</span><span class="o">.</span><span class="n">key</span><span class="p">},</span> <span class="n">outputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;dataset&quot;</span><span class="p">},</span> <span class="n">local_execution</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></p>
</li>
</ul>
<h2 id="access-the-data-from-dremio">Access the data from Dremio</h2>
<p>Access Dremio from your Coder instance or create a new Dremio workspace. You should see MinIO already configured as an object storage and you should find the downloaded data in a .parquet file at the path <code>minio/datalake/demo-etl/dataitem/dataset/0eed9ced-5f04-4f12-8494-763926070835/data.parquet</code>. The auto-generated <code>id</code> before <code>/data.parquet</code> will be different for you.</p>
<p>Click on the file to open its <em>Dataset Settings</em>, verify that the selected format is <code>Parquet</code> and click <em>Save</em>. It will be saved as a Dremio dataset, so that it can be queried.</p>
<p>Now you can run SQL queries against the dataset. Try the following (update the <code>id</code> to match your own):</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">minio</span><span class="p">.</span><span class="n">datalake</span><span class="p">.</span><span class="ss">&quot;demo-etl&quot;</span><span class="p">.</span><span class="n">dataitem</span><span class="p">.</span><span class="n">dataset</span><span class="p">.</span><span class="ss">&quot;0eed9ced-5f04-4f12-8494-763926070835&quot;</span><span class="p">.</span><span class="ss">&quot;data.parquet&quot;</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">data</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;codice spira&quot;</span>
</code></pre></div>
<p>Create a new Dremio space named <code>demo_etl</code>. We will create three virtual datasets and save them here.</p>
<h2 id="extract-measurement-data">Extract measurement data</h2>
<p>Open the SQL runner and execute the following query, which will extract the traffic measurements to save them as a separate dataset:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="k">data</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="ss">&quot;codice spira&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;00:00-01:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;01:00-02:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;02:00-03:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;03:00-04:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;04:00-05:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;05:00-06:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;06:00-07:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;07:00-08:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;08:00-09:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;09:00-10:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;10:00-11:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;11:00-12:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;12:00-13:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;13:00-14:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;14:00-15:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;15:00-16:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;16:00-17:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;17:00-18:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;18:00-19:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;19:00-20:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;20:00-21:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;21:00-22:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;22:00-23:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;23:00-24:00&quot;</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">minio</span><span class="p">.</span><span class="n">datalake</span><span class="p">.</span><span class="ss">&quot;demo-etl&quot;</span><span class="p">.</span><span class="n">dataitem</span><span class="p">.</span><span class="n">dataset</span><span class="p">.</span><span class="ss">&quot;0eed9ced-5f04-4f12-8494-763926070835&quot;</span><span class="p">.</span><span class="ss">&quot;data.parquet&quot;</span>
</code></pre></div>
<p>Click on the arrow next to <em>Save Script as</em> (top right), select <em>Save View as...</em>, name the new dataset <code>misurazioni</code> and save it in the space <code>demo_etl</code>.</p>
<h2 id="extract-traffic-sensors-data">Extract traffic sensors data</h2>
<p>From the SQL runner, execute the following query, which will extract the traffic sensors data (e.g. their geographical position) as a separate dataset:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="ss">&quot;codice spira&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">tipologia</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">id_uni</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">codice</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">Livello</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="ss">&quot;codice arco&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="ss">&quot;codice via&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="ss">&quot;Nome via&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="ss">&quot;Nodo da&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="ss">&quot;Nodo a&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">stato</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">direzione</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">angolo</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">longitudine</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">latitudine</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;data.parquet&quot;</span><span class="p">.</span><span class="n">geopoint</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">minio</span><span class="p">.</span><span class="n">datalake</span><span class="p">.</span><span class="ss">&quot;demo-etl&quot;</span><span class="p">.</span><span class="n">dataitem</span><span class="p">.</span><span class="n">dataset</span><span class="p">.</span><span class="ss">&quot;0eed9ced-5f04-4f12-8494-763926070835&quot;</span><span class="p">.</span><span class="ss">&quot;data.parquet&quot;</span>
</code></pre></div>
<p>Select <em>Save View as...</em> again (do not overwrite the previous one), name the new dataset <code>spire</code> and save it in the space <code>demo_etl</code>.</p>
<h2 id="transform-hourly-measurements-into-daily-measurements">Transform hourly measurements into daily measurements</h2>
<p>From the SQL runner, execute the following query, which will sum the measurement columns, each corresponding to an hour, to obtain the daily value and save it as a new dataset:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">data</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;codice spira&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;00:00-01:00&quot;</span><span class="o">+</span><span class="ss">&quot;01:00-02:00&quot;</span><span class="o">+</span><span class="ss">&quot;02:00-03:00&quot;</span><span class="o">+</span><span class="ss">&quot;03:00-04:00&quot;</span><span class="o">+</span><span class="ss">&quot;04:00-05:00&quot;</span><span class="o">+</span><span class="ss">&quot;05:00-06:00&quot;</span><span class="o">+</span><span class="ss">&quot;06:00-07:00&quot;</span><span class="o">+</span><span class="ss">&quot;07:00-08:00&quot;</span><span class="o">+</span><span class="ss">&quot;08:00-09:00&quot;</span><span class="o">+</span><span class="ss">&quot;09:00-10:00&quot;</span><span class="o">+</span><span class="ss">&quot;10:00-11:00&quot;</span><span class="o">+</span><span class="ss">&quot;11:00-12:00&quot;</span>
<span class="o">+</span><span class="ss">&quot;12:00-13:00&quot;</span><span class="o">+</span><span class="ss">&quot;13:00-14:00&quot;</span><span class="o">+</span><span class="ss">&quot;14:00-15:00&quot;</span><span class="o">+</span><span class="ss">&quot;15:00-16:00&quot;</span><span class="o">+</span><span class="ss">&quot;16:00-17:00&quot;</span><span class="o">+</span><span class="ss">&quot;17:00-18:00&quot;</span><span class="o">+</span><span class="ss">&quot;18:00-19:00&quot;</span><span class="o">+</span><span class="ss">&quot;19:00-20:00&quot;</span><span class="o">+</span><span class="ss">&quot;20:00-21:00&quot;</span><span class="o">+</span><span class="ss">&quot;21:00-22:00&quot;</span><span class="o">+</span><span class="ss">&quot;22:00-23:00&quot;</span><span class="o">+</span><span class="ss">&quot;23:00-24:00&quot;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">totale_giornaliero</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="ss">&quot;demo_etl&quot;</span><span class="p">.</span><span class="n">misurazioni</span>
<span class="p">)</span><span class="w"> </span><span class="n">nested_0</span><span class="p">;</span>
</code></pre></div>
<p>Select <em>Save View as...</em> again (do not overwrite the previous one), name the new dataset <code>misurazioni_giornaliere</code> and save it in the space <code>demo_etl</code>.</p>
<h2 id="connect-grafana-to-dremio">Connect Grafana to Dremio</h2>
<p>Access Grafana from your Coder instance or create a new Grafana workspace. Open the left menu and navigate to <strong>Connections &gt; Data Sources</strong>. Add a new <code>Dremio</code> data source configured as follows:</p>
<ul>
<li>Name: <code>Dremio</code></li>
<li>URL: the <em>Internal Endpoint</em> you see on Coder for your Dremio workspace</li>
<li>User: <code>admin</code></li>
<li>Password: <code>&lt;dremio_password_set_on_coder&gt;</code></li>
</ul>
<p>Now you can create a dashboard to visualize Dremio data. An example dashboard is available as a JSON file at the <code>user/examples/dremio_grafana</code> path within the repository of this documentation.</p>
<p>Navigate to <strong>Dashboards</strong> from the left menu, expand the <em>New</em> button on the top right and select <em>Import</em>. Once imported, you will need to update the <code>datasource.uid</code> field, which holds a reference to the Dremio data source in your Grafana instance, throughout the JSON model.</p>
<p>To obtain your ID easily, navigate to <strong>Connections &gt; Data Sources</strong>, select the Dremio source, and copy the ID from the page's URL:</p>
<div class="highlight"><pre><span></span><code>https://&lt;grafana_host&gt;/connections/datasources/edit/&lt;YOUR_DATASOURCE_ID&gt;
</code></pre></div>
<p>Then, go back to <strong>Dashboards</strong>, open your dashboard, open the <em>Dashboard settings</em> (cog icon in the top toolbar) and select <em>JSON Model</em> from the left. There will be a number of instances where you have to replace the ID, referenced by <code>datasource.uid</code>. When done, click <em>Save changes</em> and return to your dashboard.</p>
<p>The dashboard includes three panels: a map of the traffic sensors, a table with the daily number of vehicles registered by each sensor and a graph of the vehicles registered monthly.</p>
<p><img alt="Grafana Dremio dashboard image" src="../../../images/scenario-dremio-dashboard.png" /></p>
<p>We can now use the dashboard to explore the data. We can either interact with the map to get the information related to each sensor, or use the dashboard filters to select different time ranges and analyze traffic evolution over time.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.expand", "navigation.path", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>