
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://docs/user/scenarios/flower/flower/">
      
      
        <link rel="prev" href="../../whisper-fine-tuning/convert-test/">
      
      
        <link rel="next" href="../../../runtimes/overview/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Federated Learning with Flower - Digital Hub</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/portal_selection.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/colors.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="orange" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#federated-learning-with-flower" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    


  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="../../.."
      title="Digital Hub"
      class="md-header__button md-logo"
      aria-label="Digital Hub"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Digital Hub
          </span>
          <div class="dropdown">
            <button class="dd-button">
              
              
                
              
              <span class="dd-text">0.14</span>
              <span class="dd-arrow">&#9660;</span>
              
                
                
              
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs">current</a>
                  
                
              
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.13">0.13</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.12">0.12</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.11">0.11</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.10">0.10</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.9">0.9</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.8">0.8</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.7">0.7</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.6">0.6</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.5">0.5</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.4">0.4</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.3">0.3</a>
                  
                
              
                
                  
                    <a href="https://scc-digitalhub.github.io/docs/0.2">0.2</a>
                  
                
              
            </button>
          </div>
          <div class="dropdown">
            <button class="dd-button">
              <span class="dd-text">User</span>
              <span class="dd-arrow">&#9660;</span>
              
                
                  
                
                  
                    
                      <a href="https://scc-digitalhub.github.io/docs/0.14/admin">Admin</a>
                    
                  
                
              
            </button>
          </div>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Federated Learning with Flower
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="orange" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    

    <!-- User preference: color palette -->
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>

    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Digital Hub" class="md-nav__button md-logo" aria-label="Digital Hub" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Digital Hub
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview and architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Concepts and Tasks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Concepts and Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/projects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Projects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Functions and Runtimes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ML Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data and Transformations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Browser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/triggers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Triggers and Automation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/workspaces/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workspaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tracking and Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/kubernetes-resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Kubernetes Resources for Runs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/code-source/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code source
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/secrets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Secret Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/pat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Personal Access Tokens (PATs)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tasks/resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resource Management with KRM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Components
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Landing Page
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/dh_console/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/resourcemanager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubernetes Resource Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/kubeai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KubeAI and OpenWebUI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Interactive Workspaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            Interactive Workspaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/code-toolbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Toolbox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_6_2" id="__nav_6_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Community Workspaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6_2">
            <span class="md-nav__icon md-icon"></span>
            Community Workspaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/dremio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dremio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/sqlpad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQLPad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/grafana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Scenarios and Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Scenarios and Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Extract-Transform-Load
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            Extract-Transform-Load
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ETL scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/collect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Collect the data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Process the data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/expose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Expose datasets as API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl/streamlit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualize data with Streamlit
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DBT transformation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            DBT transformation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl-core/scenario/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ETL with digitalhub-core and DBT scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etl-core/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MLOps: Scikit-learn ML models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            MLOps: Scikit-learn ML models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlsklearn/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scikit-learn ML scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlsklearn/training/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Training the model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlsklearn/deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy and expose the model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MLOps: MLflow ML models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            MLOps: MLflow ML models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlmlflow/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MLFLow ML scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlmlflow/deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy and expose the model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MLOps: Large Language Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            MLOps: Large Language Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlllm/llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing LLM Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlllm/llmkubeai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing LLM Models with KubeAI Runtime
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MLOps: Speech to Text
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            MLOps: Speech to Text
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mlspeech/kubeaispeech/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing Speech-to-Text Models with KubeAI Runtime
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_7" >
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MLOps: Custom ML model training
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            MLOps: Custom ML model training
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom ML scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy and expose the model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Dremio transformation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            Dremio transformation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dremio_grafana/scenario/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data transformation and usage with Dremio and Grafana
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_9" >
        
          
          <label class="md-nav__link" for="__nav_7_9" id="__nav_7_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API via PostgREST
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9">
            <span class="md-nav__icon md-icon"></span>
            API via PostgREST
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postgrest/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PostgREST scenario introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postgrest/data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Insert data into the database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postgrest/postgrest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create PostgREST service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postgrest/apigw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Expose service externally
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_10" >
        
          
          <label class="md-nav__link" for="__nav_7_10" id="__nav_7_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Retrieval-Augmented Generation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_10">
            <span class="md-nav__icon md-icon"></span>
            Retrieval-Augmented Generation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Retrieval-Augmented Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag/llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag/knowledge-base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building the knowledge base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag/rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG application with LangChain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rag/webui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent Web UI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_11" >
        
          
          <label class="md-nav__link" for="__nav_7_11" id="__nav_7_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Whisper fine-tuning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_11">
            <span class="md-nav__icon md-icon"></span>
            Whisper fine-tuning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whisper-fine-tuning/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fine-tuning speech-to-text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whisper-fine-tuning/create-dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create and process dataset
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whisper-fine-tuning/fine-tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fine-tuning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whisper-fine-tuning/convert-test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Convert to faster-whisper and test
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_12" checked>
        
          
          <label class="md-nav__link" for="__nav_7_12" id="__nav_7_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Flower Federated Learning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_12_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_12">
            <span class="md-nav__icon md-icon"></span>
            Flower Federated Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Federated Learning with Flower
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Federated Learning with Flower
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initalize-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Initalize the project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-and-start-server-part-superlink" class="md-nav__link">
    <span class="md-ellipsis">
      Create and Start Server part: Superlink
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-and-start-client-part-supernode" class="md-nav__link">
    <span class="md-ellipsis">
      Create and Start Client part: Supernode
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Runtimes reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Runtimes reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Container
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/hera/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hera Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/llmserve/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Serving: LLMs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/mlflowserve/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Serving: MLflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/asrserve/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Serving: Speech to Text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/sklearnserve/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Serving: Scikit-learn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/fl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Federated Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtimes/dbt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DBT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SDK Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            SDK Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sdk/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python SDK Reference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CLI Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            CLI Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initalize-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Initalize the project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-and-start-server-part-superlink" class="md-nav__link">
    <span class="md-ellipsis">
      Create and Start Server part: Superlink
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-and-start-client-part-supernode" class="md-nav__link">
    <span class="md-ellipsis">
      Create and Start Client part: Supernode
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="federated-learning-with-flower">Federated Learning with Flower</h1>
<p><a href="https://flower.ai/">Flower Federated Learning</a> framework allows for running federated learning tasks where different client nodes perform local training and cooperatively create a more robust solution without exchanging the data but only the weight necessary to progress the training process. </p>
<p>The platform support this approach natively integrating the Flower framework in the following manner:</p>
<ul>
<li>support creating a federation, with central Superlink node and a set of client Supernodes distributed potentially outside of the platform in a secure manner (with TLS verification and client authentication)</li>
<li>activate the training procedures defined with the server coordination code and client training code managed by the platform. </li>
</ul>
<p>See more details in the description of the corresponding <a href="../../../runtimes/fl/">Flower runtime</a>.</p>
<p>This tutorial  demonstrates how to use the Flower FL framework for execution of federated learning tasks. The tutorial is based on official Pandas example of Flower framework.</p>
<h2 id="initalize-the-project">Initalize the project</h2>
<p>Create a project where we define and start the federation Superlink node and the training function.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">digitalhub</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">dh</span>

<span class="n">project</span> <span class="o">=</span> <span class="n">dh</span><span class="o">.</span><span class="n">get_or_create_project</span><span class="p">(</span><span class="s2">&quot;test-flower&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="create-and-start-server-part-superlink">Create and Start Server part: Superlink</h2>
<p>The following defines the Superlink function, build the corresponding image, and activates the server container with the dependencies.<br />
Note that the server is started in <code>insecure</code> mode, meaning that no TLS verification is performed. While this is ok for the purpose of this tutorial, should not be used in a production federation.</p>
<p>In secure mode the server will be equipped with a custom platform-level TLS certificate that should also be used by client SuperNode nodes.</p>
<div class="highlight"><pre><span></span><code><span class="n">server_function</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">new_function</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my-flower-server&quot;</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;flower-server&quot;</span><span class="p">,</span>
    <span class="n">requirements</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pandas==2.2.3&quot;</span><span class="p">,</span> <span class="s2">&quot;flwr-datasets[vision]==0.5.0&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="c1"># Build the server</span>
<span class="n">server_function</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">&quot;build&quot;</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Deploy the server</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">server_function</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">&quot;deploy&quot;</span><span class="p">,</span> <span class="n">insecure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h2 id="create-and-start-client-part-supernode">Create and Start Client part: Supernode</h2>
<p>The following defines the Supernode function, build the corresponding image, and activates 3 client nodes container with the dependencies and the node-specific configuration.  </p>
<p>Note that the server is started in <code>insecure</code> mode as no root certificate is provided. To enable secure mode, it is necessary to specify the <code>root_certificates</code> attribute to each run containing the body of the public root certificate.</p>
<p>Also the node authentication is not enabled in this scenario. The node authentication allows for controlling which nodes are allowed to communicate with the server. To achieve this, it is necessary</p>
<ul>
<li>at each node define a public-private key pair and store the values in project secrets.</li>
<li>pass the secret names as <code>public_key_secret</code> and <code>private_key_secret</code> parameters to the supernode spec</li>
<li>ensure the public key is included in <code>auth_public_keys</code> field of the server Superlink node</li>
</ul>
<p>Each client is started with the own set of parameters (<code>node_config</code>) and a reference to the <code>superlink</code> pointing to the superlink address (port 9092 by default).</p>
<div class="highlight"><pre><span></span><code><span class="n">server_url</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">service</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;:9092&#39;</span> 

<span class="n">client_function</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">new_function</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my-flower-client&quot;</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;flower-client&quot;</span><span class="p">,</span>
    <span class="n">requirements</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pandas==2.2.3&quot;</span><span class="p">,</span> <span class="s2">&quot;flwr-datasets[vision]==0.5.0&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">client_function</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">&quot;build&quot;</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Deploy client 1</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">client_function</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">&quot;deploy&quot;</span><span class="p">,</span> <span class="n">superlink</span><span class="o">=</span><span class="n">server_url</span><span class="p">,</span> <span class="n">node_config</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;partition-id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;num-partitions&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;local-epochs&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">})</span>

<span class="c1"># Deploy client 2</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">client_function</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">&quot;deploy&quot;</span><span class="p">,</span> <span class="n">superlink</span><span class="o">=</span><span class="n">server_url</span><span class="p">,</span> <span class="n">node_config</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;partition-id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;num-partitions&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;local-epochs&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">})</span>

<span class="c1"># Deploy client 3</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">client_function</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">&quot;deploy&quot;</span><span class="p">,</span> <span class="n">superlink</span><span class="o">=</span><span class="n">server_url</span><span class="p">,</span> <span class="n">node_config</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;partition-id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;num-partitions&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;local-epochs&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">})</span>
</code></pre></div>
<h1 id="create-and-start-the-training-execution">Create and Start the training execution</h1>
<p>To perform the actual training procedure, we define a new flower app function with the application code for client and server.
Specifically, it is necessary to provide either the reference to a complete Git project or, as in this case, the reference to the client and server source code files:</p>
<ul>
<li><code>client_src</code> provides reference to the  client source code, while <code>client_app</code> defines the reference in the code to the ClientApp instance.</li>
<li><code>server_src</code> provides reference to the  server source code, while <code>server_app</code> defines the reference in the code to the ServerApp instance.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">app_function</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">new_function</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my-flower-app&quot;</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;flower-app&quot;</span><span class="p">,</span>
    <span class="n">client_src</span><span class="o">=</span><span class="s2">&quot;src/client.py&quot;</span><span class="p">,</span>
    <span class="n">server_src</span><span class="o">=</span><span class="s2">&quot;src/server.py&quot;</span><span class="p">,</span>
    <span class="n">client_app</span><span class="o">=</span><span class="s2">&quot;app&quot;</span><span class="p">,</span>
    <span class="n">server_app</span><span class="o">=</span><span class="s2">&quot;app&quot;</span>

<span class="p">)</span>
</code></pre></div>
<p>The code of the client looks as follows:</p>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;pandas_example: A Flower / Pandas app.&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flwr_datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">FederatedDataset</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flwr_datasets.partitioner</span><span class="w"> </span><span class="kn">import</span> <span class="n">IidPartitioner</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">flwr.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClientApp</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flwr.common</span><span class="w"> </span><span class="kn">import</span> <span class="n">Context</span><span class="p">,</span> <span class="n">Message</span><span class="p">,</span> <span class="n">MetricRecord</span><span class="p">,</span> <span class="n">RecordDict</span>

<span class="n">fds</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Cache FederatedDataset</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">UserWarning</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">get_clientapp_dataset</span><span class="p">(</span><span class="n">partition_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">num_partitions</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="c1"># Only initialize `FederatedDataset` once</span>
    <span class="k">global</span> <span class="n">fds</span>
    <span class="k">if</span> <span class="n">fds</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">partitioner</span> <span class="o">=</span> <span class="n">IidPartitioner</span><span class="p">(</span><span class="n">num_partitions</span><span class="o">=</span><span class="n">num_partitions</span><span class="p">)</span>
        <span class="n">fds</span> <span class="o">=</span> <span class="n">FederatedDataset</span><span class="p">(</span>
            <span class="n">dataset</span><span class="o">=</span><span class="s2">&quot;scikit-learn/iris&quot;</span><span class="p">,</span>
            <span class="n">partitioners</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;train&quot;</span><span class="p">:</span> <span class="n">partitioner</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="n">dataset</span> <span class="o">=</span> <span class="n">fds</span><span class="o">.</span><span class="n">load_partition</span><span class="p">(</span><span class="n">partition_id</span><span class="p">,</span> <span class="s2">&quot;train&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">with_format</span><span class="p">(</span><span class="s2">&quot;pandas&quot;</span><span class="p">)[:]</span>
    <span class="c1"># Use just the specified columns</span>
    <span class="k">return</span> <span class="n">dataset</span><span class="p">[[</span><span class="s2">&quot;SepalLengthCm&quot;</span><span class="p">,</span> <span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">]]</span>


<span class="c1"># Flower ClientApp</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">ClientApp</span><span class="p">()</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">query</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Context</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Construct histogram of local dataset and report to `ServerApp`.&quot;&quot;&quot;</span>

    <span class="c1"># Read the node_config to fetch data partition associated to this node</span>
    <span class="n">partition_id</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">node_config</span><span class="p">[</span><span class="s2">&quot;partition-id&quot;</span><span class="p">]</span>
    <span class="n">num_partitions</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">node_config</span><span class="p">[</span><span class="s2">&quot;num-partitions&quot;</span><span class="p">]</span>

    <span class="n">dataset</span> <span class="o">=</span> <span class="n">get_clientapp_dataset</span><span class="p">(</span><span class="n">partition_id</span><span class="p">,</span> <span class="n">num_partitions</span><span class="p">)</span>

    <span class="n">metrics</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># Compute some statistics for each column in the dataframe</span>
    <span class="k">for</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="c1"># Compute histogram</span>
        <span class="n">freqs</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">dataset</span><span class="p">[</span><span class="n">feature_name</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">metrics</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">freqs</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

        <span class="c1"># Compute weighted average</span>
        <span class="n">metrics</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">feature_name</span><span class="si">}</span><span class="s2">_avg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="n">feature_name</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
        <span class="n">metrics</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">feature_name</span><span class="si">}</span><span class="s2">_count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>

    <span class="n">reply_content</span> <span class="o">=</span> <span class="n">RecordDict</span><span class="p">({</span><span class="s2">&quot;query_results&quot;</span><span class="p">:</span> <span class="n">MetricRecord</span><span class="p">(</span><span class="n">metrics</span><span class="p">)})</span>

    <span class="k">return</span> <span class="n">Message</span><span class="p">(</span><span class="n">reply_content</span><span class="p">,</span> <span class="n">reply_to</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
</code></pre></div>
<p>The code of the server part looks like follows:</p>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;pandas_example: A Flower / Pandas app.&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections.abc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Iterable</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">logging</span><span class="w"> </span><span class="kn">import</span> <span class="n">INFO</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">flwr.common</span><span class="w"> </span><span class="kn">import</span> <span class="n">Context</span><span class="p">,</span> <span class="n">Message</span><span class="p">,</span> <span class="n">MessageType</span><span class="p">,</span> <span class="n">RecordDict</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flwr.common.logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">log</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flwr.server</span><span class="w"> </span><span class="kn">import</span> <span class="n">Grid</span><span class="p">,</span> <span class="n">ServerApp</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">ServerApp</span><span class="p">()</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">grid</span><span class="p">:</span> <span class="n">Grid</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Context</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This `ServerApp` construct a histogram from partial-histograms reported by the</span>
<span class="sd">    `ClientApp`s.&quot;&quot;&quot;</span>

    <span class="n">num_rounds</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">run_config</span><span class="p">[</span><span class="s2">&quot;num-server-rounds&quot;</span><span class="p">]</span>
    <span class="n">min_nodes</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">fraction_sample</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">run_config</span><span class="p">[</span><span class="s2">&quot;fraction-sample&quot;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">server_round</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_rounds</span><span class="p">):</span>
        <span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="c1"># Add newline for log readability</span>
        <span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="s2">&quot;Starting round </span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">server_round</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num_rounds</span><span class="p">)</span>

        <span class="c1"># Loop and wait until enough nodes are available.</span>
        <span class="n">all_node_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_node_ids</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">min_nodes</span><span class="p">:</span>
            <span class="n">all_node_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">grid</span><span class="o">.</span><span class="n">get_node_ids</span><span class="p">())</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_node_ids</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">min_nodes</span><span class="p">:</span>
                <span class="c1"># Sample nodes</span>
                <span class="n">num_to_sample</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_node_ids</span><span class="p">)</span> <span class="o">*</span> <span class="n">fraction_sample</span><span class="p">)</span>
                <span class="n">node_ids</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">all_node_ids</span><span class="p">,</span> <span class="n">num_to_sample</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="s2">&quot;Waiting for nodes to connect...&quot;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="s2">&quot;Sampled </span><span class="si">%s</span><span class="s2"> nodes (out of </span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_ids</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_node_ids</span><span class="p">))</span>

        <span class="c1"># Create messages</span>
        <span class="n">recorddict</span> <span class="o">=</span> <span class="n">RecordDict</span><span class="p">()</span>
        <span class="n">messages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">node_ids</span><span class="p">:</span>  <span class="c1"># one message for each node</span>
            <span class="n">message</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span>
                <span class="n">content</span><span class="o">=</span><span class="n">recorddict</span><span class="p">,</span>
                <span class="n">message_type</span><span class="o">=</span><span class="n">MessageType</span><span class="o">.</span><span class="n">QUERY</span><span class="p">,</span>  <span class="c1"># target `query` method in ClientApp</span>
                <span class="n">dst_node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span>
                <span class="n">group_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">server_round</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

        <span class="c1"># Send messages and wait for all results</span>
        <span class="n">replies</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">send_and_receive</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
        <span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="s2">&quot;Received </span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2"> results&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">replies</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">messages</span><span class="p">))</span>

        <span class="c1"># Aggregate partial histograms</span>
        <span class="n">aggregated_hist</span> <span class="o">=</span> <span class="n">aggregate_partial_histograms</span><span class="p">(</span><span class="n">replies</span><span class="p">)</span>

        <span class="c1"># Display aggregated histogram</span>
        <span class="n">log</span><span class="p">(</span><span class="n">INFO</span><span class="p">,</span> <span class="s2">&quot;Aggregated histogram: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">aggregated_hist</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">aggregate_partial_histograms</span><span class="p">(</span><span class="n">messages</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Message</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Aggregate partial histograms.&quot;&quot;&quot;</span>

    <span class="n">aggregated_hist</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">total_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">rep</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">rep</span><span class="o">.</span><span class="n">has_error</span><span class="p">():</span>
            <span class="k">continue</span>
        <span class="n">query_results</span> <span class="o">=</span> <span class="n">rep</span><span class="o">.</span><span class="n">content</span><span class="p">[</span><span class="s2">&quot;query_results&quot;</span><span class="p">]</span>
        <span class="c1"># Sum metrics</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">query_results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;SepalLengthCm&quot;</span><span class="p">,</span> <span class="s2">&quot;SepalWidthCm&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">aggregated_hist</span><span class="p">:</span>
                    <span class="n">aggregated_hist</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">aggregated_hist</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;_count&quot;</span> <span class="ow">in</span> <span class="n">k</span><span class="p">:</span>
                <span class="n">total_count</span> <span class="o">+=</span> <span class="n">v</span>

    <span class="c1"># Verify aggregated histogram adds up to total reported count</span>
    <span class="k">assert</span> <span class="n">total_count</span> <span class="o">==</span> <span class="nb">sum</span><span class="p">([</span><span class="nb">sum</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">aggregated_hist</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
    <span class="k">return</span> <span class="n">aggregated_hist</span>
</code></pre></div>
<h2 id="running-the-training-function">Running the training function</h2>
<p>The execution of the application run is a single job that bundles the application and interacts with the superlink to deploy, activate, and coordinate the federated learning execution. </p>
<p>Each execution requires the reference to the corresponding execution API of the Superlink (port 9093) and optionally a set of hyperparameters.</p>
<p>Note that the server is started in <code>insecure</code> mode as no root certificate is provided. To enable secure mode, it is necessary to specify the <code>root_certificates</code> attribute to each run containing the body of the public root certificate.</p>
<div class="highlight"><pre><span></span><code><span class="n">server_url</span> <span class="o">=</span> <span class="n">server_url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;:9093&#39;</span> 

<span class="n">app_run</span> <span class="o">=</span> <span class="n">app_function</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">superlink</span><span class="o">=</span><span class="n">server_url</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;num-server-rounds&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;fraction-sample&quot;</span><span class="p">:</span> <span class="mf">1.0</span>
<span class="p">})</span>
</code></pre></div>
<p>The status and log of the execution may be obtained from the corresponding app run, e.g., through the Core Web UI. While not included in this example, the server procedure may create a model that can be logged using the platform SDK and used later for further operations (e.g., inference).</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.expand", "navigation.path", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>